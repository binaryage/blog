<!DOCTYPE html>
<html xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://developers.facebook.com/schema/" class="/totalfinder-with-dual-mode">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <title>TotalFinder with dual mode!</title>
    <link rel="canonical" href="http://blog.binaryage.com/totalfinder-with-dual-mode"/>
    <meta name="title" content="TotalFinder with dual mode!"/>
    <meta name="description" content="Sharing ideas about software, products and cool stuff from BinaryAge"/>
    <meta name="keywords" content="blog,ideas,antonin hildebrand,binaryage,productivity,software,web,development"/>
    <link rel="image_src" href="http://www.binaryage.com/shared/img/icons/binaryage-badge-256.png"/>
    <meta name="google-site-verification" content="N_xzdr6ymSUQFhAEvQg7f-sp1JAeJCdW2JuaRg-da0w"/>
    <meta property="fb:admins" content="antonin.hildebrand"/>
    <link href="http://feeds.feedburner.com/binaryage-blog" type="application/atom+xml" rel="alternate" title="Ideas from BinaryAge"/>
    <link rel="shortcut icon" href="http://static.binaryage.com/5604bda0_favicon.ico" type="image/x-icon"/>
    <link rel="icon" href="http://static.binaryage.com/5604bda0_favicon.ico" type="image/x-icon"/>
    <script type="text/javascript" charset="utf-8">
      setTimeout(function(){$("html").addClass("wf-fake-active")},2e3)
    </script>
    <style type="text/css">
      .js .wf{opacity:0 !important;filter:alpha(opacity=0) !important;-webkit-transition:opacity .5s ease 0;-moz-transition:opacity .5s ease 0;-o-transition:opacity .5s ease 0;transition:opacity .5s ease 0;font-smoothing:antialiased;-webkit-font-smoothing:antialiased}.wf-active .wf,.wf-fake-active .wf{opacity:1 !important;filter:alpha(opacity=100) !important}
    </style>
    <link rel="stylesheet" href="http://static.binaryage.com/167cd13d_shared_css_site.css" type="text/css"/>
    <script type="text/javascript" charset="utf-8">
      function css_browser_selector(e){var r=e.toLowerCase(),o=function(e){return r.indexOf(e)>-1},i="gecko",n="webkit",t="safari",s="opera",f="mobile",a=document.documentElement,d=[!/opera|webtv/i.test(r)&&/msie\s(\d)/.test(r)?"ie ie"+RegExp.$1:o("firefox/2")?i+" ff2":o("firefox/3.5")?i+" ff3 ff3_5":o("firefox/3.6")?i+" ff3 ff3_6":o("firefox/3")?i+" ff3":o("gecko/")?i:o("opera")?s+(/version\/(\d+)/.test(r)?" "+s+RegExp.$1:/opera(\s|\/)(\d+)/.test(r)?" "+s+RegExp.$2:""):o("konqueror")?"konqueror":o("blackberry")?f+" blackberry":o("android")?f+" android":o("chrome")?n+" chrome":o("iron")?n+" iron":o("applewebkit/")?n+" "+t+(/version\/(\d+)/.test(r)?" "+t+RegExp.$1:""):o("mozilla/")?i:"",o("j2me")?f+" j2me":o("iphone")?f+" iphone":o("ipod")?f+" ipod":o("ipad")?f+" ipad":o("mac")?"mac":o("darwin")?"mac":o("webtv")?"webtv":o("win")?"win"+(o("windows nt 6.0")?" vista":""):o("freebsd")?"freebsd":o("x11")||o("linux")?"linux":"","js"];c=d.join(" ");a.className+=" "+c;return c}css_browser_selector(navigator.userAgent)
    </script>
    <script type="text/javascript" charset="utf-8">
      if(!window.console){window.console={};function fn(){opera.postError(arguments)}["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"].forEach(function(o){window.console[o]=fn})}(function(){var o=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];if(!window.console){window.console={}}for(var n in o){window.console[o[n]]=window.console[o[n]]||function(){return}}})()
    </script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8">
      function bacookie(e,n,o){if(arguments.length>1&&String(n)!=="[object Object]"){o=o||{};if(n===null||n===undefined){o.expires=-1}if(typeof o.expires==="number"){var t=o.expires,r=o.expires=new Date;r.setDate(r.getDate()+t)}n=String(n);return document.cookie=[encodeURIComponent(e),"=",o.raw?n:encodeURIComponent(n),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}o=n||{};var i,c=o.raw?function(e){return e}:decodeURIComponent;return(i=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?c(i[1]):null}
    </script>
    <script type="text/javascript" charset="utf-8">
      function parseUri(r){var e=parseUri.options,o=e.parser[e.strictMode?"strict":"loose"].exec(r),s={},t=14;while(t--)s[e.key[t]]=o[t]||"";s[e.q.name]={};s[e.key[12]].replace(e.q.parser,function(r,o,t){if(o)s[e.q.name][o]=t});return s}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}}
    </script>
    <script type="text/javascript">
      WebFontConfig={google:{families:["Play:regular,bold"]}};(function(){var t=document.createElement("script");t.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";t.type="text/javascript";t.async="true";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)})()
    </script>
    <script src="http://static.binaryage.com/c0e8173f_shared_js_code.js"></script>
    <script type="text/javascript">
      var _gaq=_gaq||[]
    </script>
    <script type="text/javascript">
      _gaq.push(["_setAccount","UA-8404259-1"]);_gaq.push(["_addIgnoredRef",".binaryage.com"]);_gaq.push(["_setDomainName",".binaryage.com"]);_gaq.push(["_setAllowLinker",true]);_gaq.push(["_setAllowHash",false]);_gaq.push(["_trackPageview"]);(function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()
    </script>
  </head>
  <body id="page-blog-totalfinder-with-dual-mode">
    <div id="topbar">
      <div class="container topbar">
        <div class="topbar-buttons">
          <div class="topbar-labs wf">
            labs
          </div>
          <div class="topbar-testimonials wf">
            testimonials
          </div>
        </div>
      </div>
    </div>
    <div id="header" class="menu-blog">
      <div class="container header">
        <a href="http://www.binaryage.com" title="BinaryAge Software">
          <div class="header-logo">
            <div class="header-logo-hover"></div>
          </div>
        </a>
        <div class="header-motto arrow"></div>
        <div class="header-selector"></div>
        <ul class="header-menu">
          <li class="menu-item-store wf"><a href="http://www.binaryage.com/store"><span>store</span></a></li>
          <li class="menu-item-products wf"><a href="http://www.binaryage.com"><span>products</span></a></li>
          <li class="menu-item-blog wf"><a href="http://blog.binaryage.com"><span>blog</span></a></li>
          <li class="menu-item-hints wf"><a href="http://hints.binaryage.com"><span>hints</span></a></li>
          <li class="menu-item-support wf"><a href="http://discuss.binaryage.com"><span>support</span></a></li>
        </ul>
      </div>
    </div>
    <div id="main">
      <div class="wf">
        <div id="blog">
          <div class="container">
            <div class="blog-body">
              <div class="blog-content">
                <div class="blog-articles">
                  <a href="/">Â« Read more articles</a>
                </div>
                <div id="post">
                  <div class="post-titlebar">
                    <div class="calendar">
                      <div class="month">Feb</div>
                      <div class="day">03</div>
                      <div class="year">2010</div>
                    </div>
                    <h1 class="post-title">TotalFinder with dual mode!</h1>
                    <div class="clear"></div>
                  </div>
                  <div class="post-content"><p><img src="http://static.binaryage.com/57f6fb3b_shared_img_icons_totalfinder-64.png" class="intro-icon"/></p>
                    <p><strong>TotalFinder 0.7 is finally out! Grab it while it's hot.</strong></p>
                    <div class="blog-download">
                      <a class="download-link" href="http://downloads.binaryage.com/TotalFinder-0.7.dmg"><img src="http://static.binaryage.com/2b5c08d4_shared_img_small-download-button.png"/><div>http://downloads.binaryage.com/TotalFinder-0.7.dmg</div></a>
                      <div class="download-note">The full changelog: <a href="http://totalfinder.binaryage.com/changelog.html">http://totalfinder.binaryage.com/changelog.html</a></div>
                    </div>
                    <hr/>
                    <h4>Introducing dual-pane mode</h4>
                    <p>You may activate dual panels by <strong>double-clicking tab</strong> or pressing <strong>CMD+U</strong>. It simply glues the currently selected tab with the next one (or the previous one). Clicking again makes them separate again. Easy and unobtrusive!</p>
                    <p><img class="blog-image-full-border" src="http://static.binaryage.com/5d032c94_images_totalfinder-dual-pane-mode.png" title="Dual mode applied to two left-most tabs"/></p>
                    <p>As you can see I've decided to use the power of tabs to implement this feature. This way you may organize your dual-tabs with the same ease as dealing with ordinary tabs. I've already been using it for few days and I'm really happy with this solution. We just need to agree on some keyboard shortcuts for copying/moving files between panels.</p>
                    <p>I've also decided not to spawn new finder tabs in case there is no suitable tab for dual mode. In this case it just does nothing. I'm open to your suggestions how this should work in the future. I personally think opening new tabs is quite a heavy-weight operation and should only be done explicitly.</p>
                    <h4>My path was not that straight</h4>
                    <p>This hacking is more like archeology than anything else. One thing is reverse-engineering Finder and understanding how it works internally, but that is not enough. To build something reliable on top of it I usually need to try different approaches and pick symbiotic ones which may survive in the real world.</p>
                    <p>Maybe you remember my early screenshot of dual pane prototype back from October. I've used there the technique of <a href="http://blog.binaryage.com/totalfinder-with-tabs">relocating NSViews from hidden Finder window</a> for right-side list view. The solution was very fragile and unstable. I've never managed to make it fully working. I would probably need to pull much more of my hair out to get it into good shape. I'm really glad I've followed the tabs-path instead.</p>
                    <p><img class="blog-image-full" src="http://static.binaryage.com/8d666bec_images_totalfinder-old-dual-approach.png" title="The original dual mode approach"/></p>
                    <h4>Custom crash reporting</h4>
                    <p>You will get a chance to upload crash report as a gist and send me an email. Hope you will never have to see this dialog :-)</p>
                    <p><img class="blog-image" src="http://static.binaryage.com/a25b07e6_images_new-crash-report-dialog.png" width="400" title="The crash reporting dialog"/></p>
                    <h4>Locked dock? "killall Finder" for rescue</h4>
                    <p>Sometimes TotalFinder locks Finder and other apps. The symptom is that other apps are not able to quit (even Force Quit) and just stay in the Dock in zombie state. It happens usually shortly after re-installation.</p>
                    <p>If this happens, please kill Finder and start from scratch by typing this in Terminal.app:</p>
                    <p><code>killall Finder</code></p>
                    <p>I have to catch this annoyance. I'll probably replace the whole installer with custom script. This way I'll know exactly what installer does instead of relying on Apple's magic. Btw, right now it is not possible to downgrade TotalFinder directly. The installer just won't replace it in case of going to lower version number. You have to manually uninstall using Uninstall.scpt and then install older version.</p>
                    <h4>What's next?</h4>
                    <p>At this moment my roadmap looks like this:</p>
                    <ul>
                      <li>Continue fixing quirks and improve stability</li>
                      <li>Add drag-and-drop tabs, cut and paste, and keyboard shortcuts for sidebar items for v0.8</li>
                      <li>Terminal.app co-operation for v0.9, open beta period?</li>
                      <li>Hacking NASA satellites? ;)</li>
                    </ul>
                    <p>These features should be much easier compared to tabs and dual-pane mode. I'm optimistic. Stay tuned!</p>
                  </div>
                </div>
                <div class="simple_overlay" id="overlay-gallery" style="display:none">
                  <a class="overlay-prev">prev</a>
                  <a class="overlay-next">next</a>
                  <div class="overlay-info"></div>
                  <img class="overlay-progress" src="http://static.binaryage.com/32e8f83d_shared_img_twitter-loader.gif"/>
                </div>
                <script>
                  (function(){var e=$(".post-content");var a=$(".blog-image",e).add(".blog-image-full",e).add(".blog-image-border",e).add(".blog-image-full-border",e);if(!a.length)return;var r=[];a.each(function(){var e=$(this);var a=$("<a>").attr("href",e.attr("src"));var r=e.attr("title");if(r)a.attr("title",r);e.wrap(a)});a.parent().overlay({effect:"apple",expose:"#f1f1f1",target:"#overlay-gallery"}).gallery({disabledClass:"disabled-overlay",prev:".overlay-prev",next:".overlay-next",info:".overlay-info",progress:".overlay-progress",opacity:1,speed:200,template:"[${index}/${total}] ${title}"})})()
                </script>
                <div class="master-separator"></div>
                <div id="comments">
                  <div id="disqus_thread"></div>
                  <div id="disqus_script"></div>
                  <script type="text/javascript" charset="utf-8">
                    var disqus_url="http://blog.binaryage.com/totalfinder-with-dual-mode/";$("#disqus_script").html(writeCapture.sanitize("<scr"+'ipt type="text/javascript" src="http://disqus.com/forums/binaryage/embed.js"></sc'+"ript>"))
                  </script>
                  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
                </div>
              </div>
              <div class="blog-side">
                <div class="vseparator-top"></div>
                <div class="vseparator-body"></div>
                <div class="vseparator-bottom"></div>
                <div class="blog-side-box blog-side-about">
                  <div class="blog-side-about-left"><a href="http://www.binaryage.com/about"><img src="http://www.gravatar.com/avatar/79322c2ed80c2d722de8c9d0475198a0?s=76" width="76" height="76"/></a></div>
                  <div class="blog-side-about-right"><h4>About Antonin</h4>I'm a software developer passionate about the Mac, the web, 3d graphics and software tools.<br/><a href="http://www.binaryage.com/about.html">Read More Â»</a></div>
                  <div class="thats-me arrow"></div>
                </div>
                <div class="blog-side-box blog-side-follow">
                  <a href="http://twitter.com/binaryage" class="twitter-follow-button" data-show-count="true">Follow @binaryage</a>
                  <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
                </div>
                <div class="blog-side-box blog-side-subscribe">
                  <a href="http://feeds.feedburner.com/binaryage-blog" rel="alternate" type="application/rss+xml"><div class="blog-side-icon blog-rss-icon"></div></a>
                  <a href="http://feeds.feedburner.com/binaryage-blog" rel="alternate" type="application/rss+xml">Subscribe</a>
                  <div class="subscribe-button">
                    <a href="http://feeds.feedburner.com/binaryage-blog"><img src="http://feeds.feedburner.com/~fc/binaryage-blog?bg=dddddd&amp;fg=444444&amp;anim=0" height="26" width="88" style="border:0" alt=""/></a>
                  </div>
                </div>
                <div class="blog-side-box blog-side-products">
                  <div class="blog-side-separator-top totalfinder"></div>
                  <div class="blog-side-product">
                    <a href="http://totalfinder.binaryage.com">
                      <img src="http://static.binaryage.com/57f6fb3b_shared_img_icons_totalfinder-64.png" width="38" height="38"/>
                      <div class="title">TotalFinder</div>
                      <div class="info">Adds tabs to your Finder.app!</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom totalfinder"></div>
                  <div class="blog-side-separator-top totalspaces"></div>
                  <div class="blog-side-product">
                    <a href="http://totalspaces.binaryage.com">
                      <img src="http://static.binaryage.com/52792a5d_shared_img_icons_totalspaces-64.png" width="38" height="38"/>
                      <div class="title">TotalSpaces</div>
                      <div class="info">The ultimate desktop manager</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom totalspaces"></div>
                  <div class="blog-side-separator-top totalterminal"></div>
                  <div class="blog-side-product">
                    <a href="http://totalterminal.binaryage.com">
                      <img src="http://static.binaryage.com/af5e5355_shared_img_icons_totalterminal-64.png" width="38" height="38"/>
                      <div class="title">TotalTerminal</div>
                      <div class="info">A Quake-style Terminal window</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom totalterminal"></div>
                  <div class="blog-side-separator-top firequery"></div>
                  <div class="blog-side-product">
                    <a href="http://firequery.binaryage.com">
                      <img src="http://static.binaryage.com/e506cf2d_shared_img_icons_firequery-64.png" width="38" height="38"/>
                      <div class="title">FireQuery</div>
                      <div class="info">jQuery development in Firebug</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom firequery"></div>
                  <div class="blog-side-separator-top firelogger"></div>
                  <div class="blog-side-product">
                    <a href="http://firelogger.binaryage.com">
                      <img src="http://static.binaryage.com/dff2e903_shared_img_icons_firelogger-64.png" width="38" height="38"/>
                      <div class="title">FireLogger</div>
                      <div class="info">Realtime logging into Firebug</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom firelogger"></div>
                  <div class="blog-side-separator-top firerainbow"></div>
                  <div class="blog-side-product">
                    <a href="http://firerainbow.binaryage.com">
                      <img src="http://static.binaryage.com/b424aa93_shared_img_icons_firerainbow-64.png" width="38" height="38"/>
                      <div class="title">FireRainbow</div>
                      <div class="info">A syntax highlighting for Firebug</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom firerainbow"></div>
                  <div class="blog-side-separator-top xrefresh"></div>
                  <div class="blog-side-product">
                    <a href="http://xrefresh.binaryage.com">
                      <img src="http://static.binaryage.com/317ba4d5_shared_img_icons_xrefresh-64.png" width="38" height="38"/>
                      <div class="title">XRefresh</div>
                      <div class="info">Reload your browsers after save</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom xrefresh"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="clear"></div>
    </div>
    <div id="tweets-section">
      <div class="container" style="position: relative">
        <ol id="tweets" class="statuses"></ol>
      </div>
    </div>
    <div id="footer">
      <div class="container">
        <div class="footer-separator"></div>
        <div class="footerbox">
          <div class="copyright">
            <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0"><img title="the website license" alt="Creative Commons License" style="border-width:0" src="http://static.binaryage.com/69a4ba35_shared_img_byccnd.png"/></a>
          </div>
          <div class="footer-links wf">
            <a href="http://www.binaryage.com/about.html">contact</a>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript" charset="utf-8">
      $(function(){var e;$(".topbar-testimonials").bind("click",function(){if(window.SSTracker){SSTracker.pushState("praise")}if(!e){$("#tweets").tweet({user:"binaryage"});e=true}})})
    </script>
    <script type="text/javascript" charset="utf-8">
      $(function(){setTimeout(function(){var i=location.hash.substring(1);if(i.substring(0,2)=="o-"){$("#"+i).trigger("click")}},500)})
    </script>
    <script type="text/javascript" charset="utf-8">
      $(function(){var a=document.location.host;if(a.substring(a.length-3)=="org"){$("a").each(function(){var a=$(this);var r=a.attr("href");if(r){if(r.match("binaryage.com")){r=r.replace("binaryage.com","binaryage.org")}var t=document.location+"";a.attr("href",r)}})}})
    </script>
    <script type="text/javascript" charset="utf-8">
      (function(){var r=parseUri(document.location+"");var e=r.queryKey["referrer"];if(e){bacookie("bareferrer",e,{path:"/",expires:14})}})();$("a").live("click",function(){var r=$(this).attr("href")+"";var e=bacookie("bareferrer");if(e){r+=(r.indexOf("?")==-1?"?":"&")+"referrer="+encodeURIComponent(e)}var a=document.location+"";if(a.match(/fastspring\.com/)&&r.match(/binaryage\.com/)||a.match(/binaryage\.com/)&&r.match(/fastspring\.com/)){_gaq.push(["_link",r]);return false}})
    </script>
    <script type="text/javascript">
      var _gauges=_gauges||[];(function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.id="gauges-tracker";e.setAttribute("data-site-id","4f10d65d844d52139500000b");e.src="//secure.gaug.es/track.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()
    </script>
  </body>
</html>