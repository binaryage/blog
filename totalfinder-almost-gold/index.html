<!DOCTYPE html>
<html xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://developers.facebook.com/schema/" class="/totalfinder-almost-gold">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <title>TotalFinder almost gold</title>
    <link rel="canonical" href="http://blog.binaryage.com/totalfinder-almost-gold"/>
    <meta name="title" content="TotalFinder almost gold"/>
    <meta name="description" content="Sharing ideas about software, products and cool stuff from BinaryAge"/>
    <meta name="keywords" content="blog,ideas,antonin hildebrand,binaryage,productivity,software,web,development"/>
    <link rel="image_src" href="http://www.binaryage.com/shared/img/icons/binaryage-badge-256.png"/>
    <meta name="google-site-verification" content="N_xzdr6ymSUQFhAEvQg7f-sp1JAeJCdW2JuaRg-da0w"/>
    <meta property="fb:admins" content="antonin.hildebrand"/>
    <link href="http://feeds.feedburner.com/binaryage-blog" type="application/atom+xml" rel="alternate" title="Ideas from BinaryAge"/>
    <link rel="shortcut icon" href="http://static.binaryage.com/5604bda0_favicon.ico" type="image/x-icon"/>
    <link rel="icon" href="http://static.binaryage.com/5604bda0_favicon.ico" type="image/x-icon"/>
    <script type="text/javascript" charset="utf-8">
      setTimeout(function(){$("html").addClass("wf-fake-active")},2e3)
    </script>
    <style type="text/css">
      .js .wf{opacity:0 !important;filter:alpha(opacity=0) !important;-webkit-transition:opacity .5s ease 0;-moz-transition:opacity .5s ease 0;-o-transition:opacity .5s ease 0;transition:opacity .5s ease 0;font-smoothing:antialiased;-webkit-font-smoothing:antialiased}.wf-active .wf,.wf-fake-active .wf{opacity:1 !important;filter:alpha(opacity=100) !important}
    </style>
    <link rel="stylesheet" href="http://static.binaryage.com/167cd13d_shared_css_site.css" type="text/css"/>
    <script type="text/javascript" charset="utf-8">
      function css_browser_selector(e){var r=e.toLowerCase(),o=function(e){return r.indexOf(e)>-1},i="gecko",n="webkit",t="safari",s="opera",f="mobile",a=document.documentElement,d=[!/opera|webtv/i.test(r)&&/msie\s(\d)/.test(r)?"ie ie"+RegExp.$1:o("firefox/2")?i+" ff2":o("firefox/3.5")?i+" ff3 ff3_5":o("firefox/3.6")?i+" ff3 ff3_6":o("firefox/3")?i+" ff3":o("gecko/")?i:o("opera")?s+(/version\/(\d+)/.test(r)?" "+s+RegExp.$1:/opera(\s|\/)(\d+)/.test(r)?" "+s+RegExp.$2:""):o("konqueror")?"konqueror":o("blackberry")?f+" blackberry":o("android")?f+" android":o("chrome")?n+" chrome":o("iron")?n+" iron":o("applewebkit/")?n+" "+t+(/version\/(\d+)/.test(r)?" "+t+RegExp.$1:""):o("mozilla/")?i:"",o("j2me")?f+" j2me":o("iphone")?f+" iphone":o("ipod")?f+" ipod":o("ipad")?f+" ipad":o("mac")?"mac":o("darwin")?"mac":o("webtv")?"webtv":o("win")?"win"+(o("windows nt 6.0")?" vista":""):o("freebsd")?"freebsd":o("x11")||o("linux")?"linux":"","js"];c=d.join(" ");a.className+=" "+c;return c}css_browser_selector(navigator.userAgent)
    </script>
    <script type="text/javascript" charset="utf-8">
      if(!window.console){window.console={};function fn(){opera.postError(arguments)}["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"].forEach(function(o){window.console[o]=fn})}(function(){var o=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];if(!window.console){window.console={}}for(var n in o){window.console[o[n]]=window.console[o[n]]||function(){return}}})()
    </script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8">
      function bacookie(e,n,o){if(arguments.length>1&&String(n)!=="[object Object]"){o=o||{};if(n===null||n===undefined){o.expires=-1}if(typeof o.expires==="number"){var t=o.expires,r=o.expires=new Date;r.setDate(r.getDate()+t)}n=String(n);return document.cookie=[encodeURIComponent(e),"=",o.raw?n:encodeURIComponent(n),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}o=n||{};var i,c=o.raw?function(e){return e}:decodeURIComponent;return(i=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?c(i[1]):null}
    </script>
    <script type="text/javascript" charset="utf-8">
      function parseUri(r){var e=parseUri.options,o=e.parser[e.strictMode?"strict":"loose"].exec(r),s={},t=14;while(t--)s[e.key[t]]=o[t]||"";s[e.q.name]={};s[e.key[12]].replace(e.q.parser,function(r,o,t){if(o)s[e.q.name][o]=t});return s}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}}
    </script>
    <script type="text/javascript">
      WebFontConfig={google:{families:["Play:regular,bold"]}};(function(){var t=document.createElement("script");t.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";t.type="text/javascript";t.async="true";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)})()
    </script>
    <script src="http://static.binaryage.com/c0e8173f_shared_js_code.js"></script>
    <script type="text/javascript">
      var _gaq=_gaq||[]
    </script>
    <script type="text/javascript">
      _gaq.push(["_setAccount","UA-8404259-1"]);_gaq.push(["_addIgnoredRef",".binaryage.com"]);_gaq.push(["_setDomainName",".binaryage.com"]);_gaq.push(["_setAllowLinker",true]);_gaq.push(["_setAllowHash",false]);_gaq.push(["_trackPageview"]);(function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()
    </script>
  </head>
  <body id="page-blog-totalfinder-almost-gold">
    <div id="topbar">
      <div class="container topbar">
        <div class="topbar-buttons">
          <div class="topbar-labs wf">
            labs
          </div>
          <div class="topbar-testimonials wf">
            testimonials
          </div>
        </div>
      </div>
    </div>
    <div id="header" class="menu-blog">
      <div class="container header">
        <a href="http://www.binaryage.com" title="BinaryAge Software">
          <div class="header-logo">
            <div class="header-logo-hover"></div>
          </div>
        </a>
        <div class="header-motto arrow"></div>
        <div class="header-selector"></div>
        <ul class="header-menu">
          <li class="menu-item-store wf"><a href="http://www.binaryage.com/store"><span>store</span></a></li>
          <li class="menu-item-products wf"><a href="http://www.binaryage.com"><span>products</span></a></li>
          <li class="menu-item-blog wf"><a href="http://blog.binaryage.com"><span>blog</span></a></li>
          <li class="menu-item-hints wf"><a href="http://hints.binaryage.com"><span>hints</span></a></li>
          <li class="menu-item-support wf"><a href="http://discuss.binaryage.com"><span>support</span></a></li>
        </ul>
      </div>
    </div>
    <div id="main">
      <div class="wf">
        <div id="blog">
          <div class="container">
            <div class="blog-body">
              <div class="blog-content">
                <div class="blog-articles">
                  <a href="/">« Read more articles</a>
                </div>
                <div id="post">
                  <div class="post-titlebar">
                    <div class="calendar">
                      <div class="month">May</div>
                      <div class="day">17</div>
                      <div class="year">2010</div>
                    </div>
                    <h1 class="post-title">TotalFinder almost gold</h1>
                    <div class="clear"></div>
                  </div>
                  <div class="post-content"><p><img src="http://static.binaryage.com/57f6fb3b_shared_img_icons_totalfinder-64.png" class="intro-icon"/></p>
                    <p><strong>TotalFinder 0.9.1 is out with many improvements and some stability fixes.<br/>Maybe I should start calling it a beta?! What do you think? :-)</strong></p>
                    <div class="blog-download">
                      <a class="download-link" href="http://downloads.binaryage.com/TotalFinder-0.9.1.dmg"><img src="http://static.binaryage.com/2b5c08d4_shared_img_small-download-button.png"/><div>http://downloads.binaryage.com/TotalFinder-0.9.1.dmg</div></a>
                      <div class="download-note">The full changelog: <a href="http://totalfinder.binaryage.com/changelog.html">http://totalfinder.binaryage.com/changelog.html</a></div>
                    </div>
                    <h4>The major feature: "no major features"</h4>
                    <p>I still have my head full of crazy ideas about exciting new features for TotalFinder but I decided to stay calm and polish TotalFinder in its current state.
                    Don't worry, I'm also evaluating your ideas from <a href="http://getsatisfaction.com/binaryage">http://getsatisfaction.com/binaryage</a>.</p>
                    <p>One thing is clear to me. TotalFinder must not turn into bloat-ware. On the other side the TotalFinder is by definition a product for Mac tweakers who love to have options. I want to support separate orthogonal features which should be disabled by default and which may be enabled at will on separate preference panels. So everyone gets an easy way to use only a subset of TotalFinder features.</p>
                    <p>For example some people are not that interested in .DS_Store redirection, while for others it is an essential feature. By the way, I renamed this feature "Asepsis" which is kind of a cool name for real system surgeons ;-)</p>
                    <p><img class="clear blog-image" width="300" src="http://static.binaryage.com/8646b855_images_new-preferences-panel.png" title="TotalFinder provides distinct features which may be enabled at once"/></p>
                    <p>This is the new look of TotalFinder preferences. New mini tab buttons give more room for new feature panels in the future :-)</p>
                    <h4>Fixed several crash situations</h4>
                    <p>The root of all evil was my extensive usage of performSelector:withObject:afterDelay: calls to make things smooth and sane. For example, this was used when animating tabs. The problem is that the target object on which the scheduled method is called does not go away until the timer fires (performSelector calls [retain] on target object). Cocoa uses autorelease which does deallocation at some point after the timer has fired. The problem was that the target had weak references to other objects. These objects may die in the meantime while the target is waiting for the animation to finish.</p>
                    <p>As you can imagine this was the source of all sudden crashes when dealing with tabs. For example a 100% reproducible case for one tabs-related crash was:</p>
                    <ul>
                      <li>open window with two tabs</li>
                      <li>click on close button of the second tab to initiate a tab closing animation</li>
                      <li>use CMD+Q to close the whole browser window (if you're fast you can close it with mouse or pressing CMD+W to close second tab quickly after first one)</li>
                    </ul>
                    <p>I believe I've solved all of these nasty issues by reviewing all performSelector calls and fixing object dependencies.</p>
                    <h4>Visor window can be pinned and resized by dragging</h4>
                    <p>I've replaced the Visor close button with pin button. The Visor window may be also pinned by pressing the keyboard shortcut <code>CMD+SHIFT+P</code>. You can also drag the tabs bar to resize Visor vertically. Sweet!</p>
                    <p><img class="clear blog-image-border" src="http://static.binaryage.com/0ab0bfed_images_totalfinder-pinned-visor-window.png" title="The Visor window may be also pinned by pressing the keyboard shortcut `CMD+SHIFT+P`"/></p>
                    <p>I've also improved the free-form mode of the Visor window and implemented seamless switching between these modes.</p>
                    <h4>Narrow Tabs Bar for small screens</h4>
                    <p>This is just the cherry on the top. It was easy enough so I decided to make some folks with small screens happy. You have a keyboard shortcut for this too: <code>CMD+SHIFT+B</code>.</p>
                    <p><img class="clear blog-image-border" src="http://static.binaryage.com/e48d7994_images_totalfinder-narrow-tabs-bar.png" title="Narrow Tabs Bar"/></p>
                    <h4>Display hidden files without restarting Finder!</h4>
                    <p>This was a really hard one. As I <a href="http://blog.binaryage.com/i-can-haz-folders-on-top">wrote before</a>, there is no simple way to programatically force Finder to display hidden files. You can tweak AppleShowAllFiles key in Finder's plist, but it requires Finder to restart to take effect.</p>
                    <p>So I've followed the hard path again. I've searched the memory where Finder stores the bit which tells the file browser how to filter files when rendering. As you would expect this memory offset differs for each hardware platform and Finder version. So I ended up with two tables where I store known memory offsets for both i386 and x86_64 platforms.</p>
                    <p>As of the 0.9.1 release, this feature works for Finder 10.6.3 and 10.6.4. Apple is probably going to release Finder 10.6.5 soon, so I will release a TotalFinder update for it shortly. If you encounter the future compatibility warning you will lose this functionality for a while (a Finder restart will always work, of course).</p>
                    <p><img class="clear blog-image-border" width="300" src="http://static.binaryage.com/d332e4a4_images_totalfinder-future-compatibility-check.png" title="TotalFinder warns you when running with unknown Finder version (from the future)"/></p>
                    <p>Note: Finder's minor version number is advanced by +1 compared to the OS X system update numbering.</p>
                    <h4>What's next?</h4>
                    <p>This is pretty much what you are going to get in the 1.0 release. You should be already saving your 15 bucks as a reward for my hard work.</p>
                    <p>I'm planning the following features for 1.0:</p>
                    <ul>
                      <li>Pixel perfection (right now the tab gradients don't visually match the Finder windows)</li>
                      <li>Localization support</li>
                      <li>Registration (a funny box for pasting a license key)</li>
                      <li>Small usability fixes</li>
                    </ul>
                    <p><strong>I'm pretty excited about how TotalFinder is maturing. Let me know what your must-haves are for the 1.0 release.</strong></p>
                  </div>
                </div>
                <div class="simple_overlay" id="overlay-gallery" style="display:none">
                  <a class="overlay-prev">prev</a>
                  <a class="overlay-next">next</a>
                  <div class="overlay-info"></div>
                  <img class="overlay-progress" src="http://static.binaryage.com/32e8f83d_shared_img_twitter-loader.gif"/>
                </div>
                <script>
                  (function(){var e=$(".post-content");var a=$(".blog-image",e).add(".blog-image-full",e).add(".blog-image-border",e).add(".blog-image-full-border",e);if(!a.length)return;var r=[];a.each(function(){var e=$(this);var a=$("<a>").attr("href",e.attr("src"));var r=e.attr("title");if(r)a.attr("title",r);e.wrap(a)});a.parent().overlay({effect:"apple",expose:"#f1f1f1",target:"#overlay-gallery"}).gallery({disabledClass:"disabled-overlay",prev:".overlay-prev",next:".overlay-next",info:".overlay-info",progress:".overlay-progress",opacity:1,speed:200,template:"[${index}/${total}] ${title}"})})()
                </script>
                <div class="master-separator"></div>
                <div id="comments">
                  <div id="disqus_thread"></div>
                  <div id="disqus_script"></div>
                  <script type="text/javascript" charset="utf-8">
                    var disqus_url="http://blog.binaryage.com/totalfinder-almost-gold/";$("#disqus_script").html(writeCapture.sanitize("<scr"+'ipt type="text/javascript" src="http://disqus.com/forums/binaryage/embed.js"></sc'+"ript>"))
                  </script>
                  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
                </div>
              </div>
              <div class="blog-side">
                <div class="vseparator-top"></div>
                <div class="vseparator-body"></div>
                <div class="vseparator-bottom"></div>
                <div class="blog-side-box blog-side-about">
                  <div class="blog-side-about-left"><a href="http://www.binaryage.com/about"><img src="http://www.gravatar.com/avatar/79322c2ed80c2d722de8c9d0475198a0?s=76" width="76" height="76"/></a></div>
                  <div class="blog-side-about-right"><h4>About Antonin</h4>I'm a software developer passionate about the Mac, the web, 3d graphics and software tools.<br/><a href="http://www.binaryage.com/about.html">Read More »</a></div>
                  <div class="thats-me arrow"></div>
                </div>
                <div class="blog-side-box blog-side-follow">
                  <a href="http://twitter.com/binaryage" class="twitter-follow-button" data-show-count="true">Follow @binaryage</a>
                  <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
                </div>
                <div class="blog-side-box blog-side-subscribe">
                  <a href="http://feeds.feedburner.com/binaryage-blog" rel="alternate" type="application/rss+xml"><div class="blog-side-icon blog-rss-icon"></div></a>
                  <a href="http://feeds.feedburner.com/binaryage-blog" rel="alternate" type="application/rss+xml">Subscribe</a>
                  <div class="subscribe-button">
                    <a href="http://feeds.feedburner.com/binaryage-blog"><img src="http://feeds.feedburner.com/~fc/binaryage-blog?bg=dddddd&amp;fg=444444&amp;anim=0" height="26" width="88" style="border:0" alt=""/></a>
                  </div>
                </div>
                <div class="blog-side-box blog-side-products">
                  <div class="blog-side-separator-top totalfinder"></div>
                  <div class="blog-side-product">
                    <a href="http://totalfinder.binaryage.com">
                      <img src="http://static.binaryage.com/57f6fb3b_shared_img_icons_totalfinder-64.png" width="38" height="38"/>
                      <div class="title">TotalFinder</div>
                      <div class="info">Adds tabs to your Finder.app!</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom totalfinder"></div>
                  <div class="blog-side-separator-top totalspaces"></div>
                  <div class="blog-side-product">
                    <a href="http://totalspaces.binaryage.com">
                      <img src="http://static.binaryage.com/52792a5d_shared_img_icons_totalspaces-64.png" width="38" height="38"/>
                      <div class="title">TotalSpaces</div>
                      <div class="info">The ultimate desktop manager</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom totalspaces"></div>
                  <div class="blog-side-separator-top totalterminal"></div>
                  <div class="blog-side-product">
                    <a href="http://totalterminal.binaryage.com">
                      <img src="http://static.binaryage.com/af5e5355_shared_img_icons_totalterminal-64.png" width="38" height="38"/>
                      <div class="title">TotalTerminal</div>
                      <div class="info">A Quake-style Terminal window</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom totalterminal"></div>
                  <div class="blog-side-separator-top firequery"></div>
                  <div class="blog-side-product">
                    <a href="http://firequery.binaryage.com">
                      <img src="http://static.binaryage.com/e506cf2d_shared_img_icons_firequery-64.png" width="38" height="38"/>
                      <div class="title">FireQuery</div>
                      <div class="info">jQuery development in Firebug</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom firequery"></div>
                  <div class="blog-side-separator-top firelogger"></div>
                  <div class="blog-side-product">
                    <a href="http://firelogger.binaryage.com">
                      <img src="http://static.binaryage.com/dff2e903_shared_img_icons_firelogger-64.png" width="38" height="38"/>
                      <div class="title">FireLogger</div>
                      <div class="info">Realtime logging into Firebug</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom firelogger"></div>
                  <div class="blog-side-separator-top firerainbow"></div>
                  <div class="blog-side-product">
                    <a href="http://firerainbow.binaryage.com">
                      <img src="http://static.binaryage.com/b424aa93_shared_img_icons_firerainbow-64.png" width="38" height="38"/>
                      <div class="title">FireRainbow</div>
                      <div class="info">A syntax highlighting for Firebug</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom firerainbow"></div>
                  <div class="blog-side-separator-top xrefresh"></div>
                  <div class="blog-side-product">
                    <a href="http://xrefresh.binaryage.com">
                      <img src="http://static.binaryage.com/317ba4d5_shared_img_icons_xrefresh-64.png" width="38" height="38"/>
                      <div class="title">XRefresh</div>
                      <div class="info">Reload your browsers after save</div>
                    </a>
                  </div>
                  <div class="blog-side-separator-bottom xrefresh"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="clear"></div>
    </div>
    <div id="tweets-section">
      <div class="container" style="position: relative">
        <ol id="tweets" class="statuses"></ol>
      </div>
    </div>
    <div id="footer">
      <div class="container">
        <div class="footer-separator"></div>
        <div class="footerbox">
          <div class="copyright">
            <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0"><img title="the website license" alt="Creative Commons License" style="border-width:0" src="http://static.binaryage.com/69a4ba35_shared_img_byccnd.png"/></a>
          </div>
          <div class="footer-links wf">
            <a href="http://www.binaryage.com/about.html">contact</a>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript" charset="utf-8">
      $(function(){var e;$(".topbar-testimonials").bind("click",function(){if(window.SSTracker){SSTracker.pushState("praise")}if(!e){$("#tweets").tweet({user:"binaryage"});e=true}})})
    </script>
    <script type="text/javascript" charset="utf-8">
      $(function(){setTimeout(function(){var i=location.hash.substring(1);if(i.substring(0,2)=="o-"){$("#"+i).trigger("click")}},500)})
    </script>
    <script type="text/javascript" charset="utf-8">
      $(function(){var a=document.location.host;if(a.substring(a.length-3)=="org"){$("a").each(function(){var a=$(this);var r=a.attr("href");if(r){if(r.match("binaryage.com")){r=r.replace("binaryage.com","binaryage.org")}var t=document.location+"";a.attr("href",r)}})}})
    </script>
    <script type="text/javascript" charset="utf-8">
      (function(){var r=parseUri(document.location+"");var e=r.queryKey["referrer"];if(e){bacookie("bareferrer",e,{path:"/",expires:14})}})();$("a").live("click",function(){var r=$(this).attr("href")+"";var e=bacookie("bareferrer");if(e){r+=(r.indexOf("?")==-1?"?":"&")+"referrer="+encodeURIComponent(e)}var a=document.location+"";if(a.match(/fastspring\.com/)&&r.match(/binaryage\.com/)||a.match(/binaryage\.com/)&&r.match(/fastspring\.com/)){_gaq.push(["_link",r]);return false}})
    </script>
    <script type="text/javascript">
      var _gauges=_gauges||[];(function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.id="gauges-tracker";e.setAttribute("data-site-id","4f10d65d844d52139500000b");e.src="//secure.gaug.es/track.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()
    </script>
  </body>
</html>